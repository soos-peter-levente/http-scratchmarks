<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="../css/http-scratchmarks-popup.css"/>
    <script src="../js/jquery-3.3.1.slim.min.js"></script>
    <script src="../js/mustache.min.js"></script>
    <title>HTTP Scratchmarks</title>
  </head>

  <body>
    <div class="main-view-container">
      <div id="main-title">
        <h1 class="main-title-header" title="Search & replace HTTP response bodies before loading.">Enable HTTP Scratchmarks</h1>
        <div id="main-status">
          <div id="main-toggle">
            <div class="toggle">
              <label class="toggle-label">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div id="main">
        <div class="site-view-container">
          <div id="site">
            <div id="site-status">
              <div id="site-toggle">
                <h3 class="toggle-text">Use here: </h3>
                <div class="toggle">
                  <label class="toggle-label">
                    <input type="checkbox" checked>
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="site-view-rules">

          </div>
          <div class="site-rule-buttons">
            <div id="site-edit-rule">
              <button disabled>Edit rule</button>
            </div>
            <div id="site-add-rule">
              <button>Add rule</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="edit-view-container">
      <div id="edit-title">
        <h1 class="edit-title-header">Edit rule</h1>
      </div>
      <div id="edit-main">
        <div id="edit-domain">
          <label class="input-label" for="edit-domain-path">If a URL matches</label>
          <div class="edit-segment">
            <input id="edit-domain-path" type="text" placeholder="place"/>
            <select class="edit-path-dropdown">
              <option value="domain">domain</option>
              <option value="fixpath">path</option>
              <option value="prefix">prefix</option>
              <option value="regex">regex</option>
            </select>
          </div>
        </div>
        <div id="edit-rule">
          <label class="input-label" for="edit-search">replace</label>
          <div class="edit-segment">
            <input id="edit-search" type="text" placeholder="string or regex" />
            <select class="edit-rule-dropdown">
              <option value="string">string</option>
              <option value="regex">regex</option>
            </select>
          </div>
          <label class="input-label" for="edit-replace">with</label>
          <div class="edit-segment">
            <input id="edit-replace" type="text" placeholder="string w/ matching groups (e.g. $1, $2, etc.)" />
          </div>
          <div class="edit-rule-buttons">
            <div id="edit-save-rule">
              <button>Save rule</button>
            </div>
            <div id="edit-cancel">
              <button>Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script id="site-rule-template" type="text/template">
      {{# rules }}
      <div class="site-rule-wrapper">
        <div class="site-rule-accordion-wrapper">
          <button class="site-rule-path">
            <span class="site-rule-path-text" title={{ pathName }}>{{ pathName }}</span>
          </button>
          <div class="site-rule-options">
            <i class="fas fa-trash-alt"></i>
          </div>
        </div>
        <div class="site-rule-content">
          <table class="site-rule-table">
            <tbody>
              <tr class="site-rule-table-header-row">
                <th class="site-rule-table-header search">replace</th>
                <th class="site-rule-table-header replace">with</th>
              </tr>
              {{# ruleList }}
              <tr class="site-rule-table-row">
                <td class="site-rule-table-row search" title="{{ ruleType }}">{{ ruleSearch }}</td>
                <td class="site-rule-table-row replace" >{{ ruleReplace }}</td>
                <td class="site-rule-table-row option">
                  <span class="site-s-r-edit">
                    <i class="fas fa-edit"></i>
                  </span>
                  <span class="site-s-r-delete">
                    <i class="fas fa-trash-alt"></i>
                  </span>
                </td>
              </tr>
              {{/ ruleList }}
            </tbody>
          </table>
        </div>
      </div>
      {{/ rules}}
    </script>

  </body>
  <script src="../js/http-scratchmarks-popup.js"></script>
</html>
